ORG 8000H

ORG 0

LXI H, 0
SPHL
PUSH B
CALL main
END

@ MULT ...
@ DIV ...
@ PRINT ...

main:

PUSH B
PUSH B
PUSH B
PUSH B
PUSH B
PUSH B

IN 0
LXI H, 10
DAD SP
MOV M, A

MVI A, 1
LXI H, 6
DAD SP
MOV M, A

L1:

MVI A, 1
LXI H, 4
DAD SP
MOV M, A

LXI H, 10
DAD SP
MOV A, M
MOV B, A
LXI H, 6
DAD SP
MOV A, M
CMP B
JM L5
JZ L5

MVI A, 0
LXI H, 4
DAD SP
MOV M, A

L5:

MVI A, 0
MOV B, A
LXI H, 4
DAD SP
MOV A, M
CMP B
JZ L4

JMP L3

L2:

LXI H, 6
DAD SP
MOV A, M
LXI H, 2
DAD SP
MOV M, A

MVI A, 1
MOV B, A
LXI H, 6
DAD SP
MOV A, M
ADD B
LXI H, 6
DAD SP
MOV M, A

JMP L1

L3:

LXI H, 6
DAD SP
MOV A, M
MOV B, A
LXI H, 8
DAD SP
MOV A, M
ADD B
LXI H, 0
DAD SP
MOV M, A

LXI H, 0
DAD SP
MOV A, M
LXI H, 8
DAD SP
MOV M, A

JMP L2

L4:

LXI H, 8
DAD SP
MOV A, M
OUT 1

LXI H, 14
DAD SP
MVI M, 0

POP B
POP B
POP B
POP B
POP B
POP B

RET

